<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Pendaftaran BPJS Ketenagakerjaan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="shortcut icon" href="img/tabicon.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

    <!-- CAROUSEL AWAL -->
    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="item active" style="left: 0px;">
                <img src="img/banner-pendaftaran-bpu.jpg" class="web-carousel" alt="banner-hubungi-kami"
                    style="width: 100%;">
                <img src="img/banner-pendaftaran-bpu-mobile.jpg" class="mobile-carousel"
                    alt="banner-hubungi-kami-mobile" style="width: 100%;">
            </div>
        </div>
    </div>
    <!-- CAROUSEL AKHIR -->

    <!-- FORM AWAL -->
    <div class="container">
        <div class="row text-center">
            <div class="col">
                <h2>Formulir Pendaftaran <br> BSD Autopart</h2>
            </div>
        </div>
        <div class="row justify-content-center mb-3">
            <div class="col-md-5">
                <div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
                    <strong>Terimakasih!</strong> Proses pendaftaran telah kami terima.
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <form name="bsd-autopart" class="m-2">
                    <div class="mb-3">
                        <label for="nik" class="form-label">No. Identitas</label>
                        <input type="number" class="form-control" id="nik" aria-describedby="nik"
                            placeholder="Nomor Induk Kependudukan (KTP)" name="nik" minlength="16" required>
                    </div>
                    <div class="mb-3">
                        <label for="nama" class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-control" id="nama" aria-describedby="nama"
                            placeholder="Sesuai KTP" name="nama" required>
                    </div>
                    <div class="mb-3">
                        <label for="lahir" class="form-label">Tanggal Lahir</label>
                        <input type="date" class="form-control" id="lahir" aria-describedby="lahir"
                            placeholder="dd-mm-yyyy" name="lahir" required>
                    </div>
                    <div class="mb-3">
                        <label for="hp" class="form-label">No Handphone</label>
                        <input type="number" class="form-control" id="hp" aria-describedby="hp" placeholder="08xxxxxx"
                            name="hp" required>
                    </div>
                    <div class="mb-3">
                        <label for="pkbu" class="form-label">Nama Badan Usaha</label>
                        <input type="text" class="form-control" id="email" aria-describedby="pkbu"
                            placeholder="Nama Kios" name="pkbu" required>
                    </div>
                    <div class="mb-3">
                        <label for="alamat" class="form-label">Alamat Badan Usaha</label>
                        <input type="text" class="form-control" id="alamat" aria-describedby="alamat"
                            placeholder="Alamat Kios" name="alamat" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-kirim">Kirim</button>
                    <button class="btn btn-primary btn-loading d-none" type="button" disabled>
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        Loading...
                    </button>
                </form>
                <div class="d-flex justify-content-center d-none loading">
                    <div class="spinner-border text-primary loader" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- FORM AKHIR -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
        crossorigin="anonymous"></script>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyzAXOIAjIneRaXrgRSSfIVXnwZE5zHXub08MYx5KItrm-gF00qEGT73rchnmyhZF3yng/exec';
        const form = document.forms['bsd-autopart'];
        const btnKirim = document.querySelector('.btn-kirim');
        const btnLoading = document.querySelector('.btn-loading');
        const myAlert = document.querySelector('.my-alert');
        const myLoading = document.querySelector('.loading');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            btnLoading.classList.toggle('d-none');
            btnKirim.classList.toggle('d-none');
            myLoading.classList.toggle('d-none');
            fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                .then(response => {
                    btnLoading.classList.toggle('d-none');
                    btnKirim.classList.toggle('d-none');
                    myAlert.classList.toggle('d-none');
                    myLoading.classList.toggle('d-none');
                    form.reset();
                    console.log('Success!', response)
                })
                .catch(error => console.error('Error!', error.message))
        });
    </script>

</body>

</html>